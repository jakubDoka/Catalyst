use {
    "root/dep"
}

fn "default" main() -> int {
    if other(1, 2, 3) != 7 {
        ret 1
    }

    if bti(true) != 1 {
        ret 2
    }

    if bti(false) != 0 {
        ret 3
    }

    if fib(5) != 8 {
        ret 4
    }

    if iter_fib(5) != 8 {
        ret 5
    }

    {
        let i = 1
        let b = 0
        if loop { if i > 100 {
            break b
        } else {
            b += i
            i += 1
        } } != 5050 {
            ret 6
        }
    }

    if structure_test() != 0 {
        ret 7
    }

    0
}

fn fib(x: int) -> int {
    if x < 2 {
        1
    } else {
        fib(x - 1) + fib(x - 2)
    }
}

fn iter_fib(x: int) -> int {
    let i = 1
    let a = 1
    let b = 1
    
    loop {
        if i >= x {
            break b
        }

        let c = a + b
        a = b
        b = c

        i += 1
    }
}

fn "default" printf(str: int) extern